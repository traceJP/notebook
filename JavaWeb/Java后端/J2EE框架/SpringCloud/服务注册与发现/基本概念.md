# 一、服务注册与发现

## 1、出现原因

- 多个微服务下的接口互相调用非常混乱，需要抽离出一个专门的管理器对所有的微服务进行统一的管理。

## 2、服务治理

- 在传统的rpc远程调用框架中，管理每个服务与服务之间依赖关系比较复杂，管理比较复杂，所以需要使用服务治理，管理服务与服务之间的依赖关系，可以实现服务调用，负载均衡，容错等，实现服务发现与注册。

# 二、架构

- 一般服务注册与发现框架的架构都大体类似与Eureka三角形架构。
- eureka采用cs（client、server）的设计架构，使用eureka-server作为服务注册功能的服务器，他是服务注册中心，而系统中的其他微服务，使用eureka-client连接到eureka-server并维持心跳连接。这样用户就可以通过eureka-server来监控系统中各个微服务是否正常运行。
- 在服务注册与发现中，有一个注册中心，当服务器启动的时候，会把当前自定服务器的信息（如服务地址等别名注册到注册中心上），其他调用方和被调用方以该别名的方式去注册中心上获取到实际的服务通讯地址，然后再实现本地远程框架的调用思想（rpc框架中都会有一个注册中心用于管理存放服务地址相关信息（接口地址））即可。

![clipboard.png](%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.assets/clip_image002.gif)

# 三、Consul、Zookeeper、Eureka异同点

| 组件名    | 开发语言 | CAP偏重 | 服务健康检查 | 对外接口   |
| --------- | -------- | ------- | ------------ | ---------- |
| Eureka    | Java     | AP      | 可配支持     | 网页UI     |
| Consul    | Go       | CP      | 支持         | 网页UI/DNS |
| Zookeeper | Java     | CP      | 支持         | 终端       |

 

 

 

 